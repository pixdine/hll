<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{padding: 0; margin: 0;}
        html,body {
            height: 100%;
        }
        .container-wrap {
            height: 100%;
        }
.container {
  height: 100%;
}

.layer {
    position: relative;
    width: 100%;
    height: 100%; /* 각 레이어의 높이 */
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    top: 0; /* 뷰포트의 상단에 '붙음' */
    left: 0;
    z-index: 1; /* 위쪽에 있는 레이어가 아래쪽에 있는 레이어를 덮게 하기 위함 */
}
/* .layer2 {
    top: 100vh;
}
.layer3 {
    top: 200vh;
}
.layer4 {
    top: 300vh;
} */

.text-wrap {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
}

.layer2 .text-wrap {
    top: -100vh;
}

.layer3 .text-wrap {
    top: -200vh;
}

.layer4 .text-wrap {
    top: -300vh;
}

.layer:nth-child(1) { background-color: rgba(255,0,0,0.2); }
.layer:nth-child(2) { background-color: rgba(0,255,0,0.2); z-index: 2;}
.layer:nth-child(3) { background-color: rgba(0,0,255,0.2); z-index: 3;}
.layer:nth-child(4) { background-color: rgba(255,255,0,0.2); z-index: 4;}

    </style>
</head>
<body>

    <div class="container-wrap">
        <div class="container">
            <div class="sticky layer">
                <div class="text-wrap">
                    <div class="text">Text Layer 1</div>
                    <div class="text">Text Layer 1</div>
                    <div class="text">Text Layer 1</div>
                    <div class="text">Text Layer 1</div>
                    <div class="text">Text Layer 1</div>
                </div>
            </div>
            <div class="sticky layer layer2">
                <div class="text-wrap">
                    <div class="text">Text Layer 2</div>
                    <div class="text">Text Layer 2</div>
                    <div class="text">Text Layer 2</div>
                    <div class="text">Text Layer 2</div>
                    <div class="text">Text Layer 2</div>
                </div>
            </div>
            <div class="sticky layer layer3">
                <div class="text-wrap">
                    <div class="text">Text Layer 3</div>
                    <div class="text">Text Layer 3</div>
                    <div class="text">Text Layer 3</div>
                    <div class="text">Text Layer 3</div>
                    <div class="text">Text Layer 3</div>
                </div>
            </div>
            <div class="sticky layer layer4">
                <div class="text-wrap">
                    <div class="text">Text Layer 4</div>
                    <div class="text">Text Layer 4</div>
                    <div class="text">Text Layer 4</div>
                    <div class="text">Text Layer 4</div>
                    <div class="text">Text Layer 4</div>
                </div>

            </div>
          </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/ScrollTrigger.min.js"></script>

    <script>
        const textLayer = document.querySelectorAll('.text-wrap');
        window.addEventListener('scroll', function (){
            let scrollTop = window.scrollY;
            textLayer.forEach(function(item, index){
                console.log('item', index);
                item.style.marginTop = scrollTop + 'px';
            })
        })

// gsap.utils.toArray(".layer").forEach((layer, index) => {
//   gsap.fromTo(layer, 
//     { bottom: '-100vh' }, 
//     {
//       bottom: '0vh',
//       scrollTrigger: {
//         start: `top+=${index * 100}vh center`,
//         end: `top+=${(index + 1) * 100}vh center`,
//         scrub: 1,  // 애니메이션과 스크롤 사이의 부드러운 관계를 위한 스크럽
//         markers: true // 마커를 보려면 true로 설정
//       }
//     }
//   );
// });

    </script>
</body>
</html>